<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fundflow ‚Äì Dashboard</title>
  <link rel="stylesheet" href="output.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Exo:wght@400;700&family=Audiowide&display=swap" rel="stylesheet">
  <style>
    html, body, h1, h2, h3, h4, h5, h6, p, span, div, input, button, label, a, li, ul, ol, form, section, nav, main, td, th, strong, em, b, i, textarea, select, option {
      font-family: 'Orbitron', 'Exo', 'Audiowide', 'Inter', 'Segoe UI', 'Poppins', 'Roboto', 'Arial', sans-serif !important;
      letter-spacing: 0.01em;
    }
    body {
      background: #0a0a0f;
      min-height: 100vh;
      background-image: url('assets/backgrounds/3d-rendering-futuristic-background-with-geometric-shapes-colorful-neon-lights.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      position: relative;
    }
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.6);
      z-index: 0;
      pointer-events: none;
    }
    .dragon { position: fixed; right: 2vw; bottom: 2vw; width: 90px; z-index: 10; filter: drop-shadow(0 0 16px #06b6d4cc); animation: float 3s ease-in-out infinite; }
    @keyframes float { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-18px);} }
    .confetti { pointer-events: none; position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; z-index: 50; }
    .glass-card { backdrop-filter: blur(24px); background: rgba(24, 24, 48, 0.85); border: 2px solid #06b6d4cc; box-shadow: 0 0 40px 8px #06b6d4cc, 0 8px 32px #a21caf55; color: #b0b6c8; }
    .section-spacer { margin-bottom: 48px; }
    .editable:hover, .editable:focus { outline: 2px solid #a21caf; background: #2d2a4a88; cursor: pointer; }
    .card-anim { transition: transform 0.2s, box-shadow 0.2s; }
    .card-anim:hover { transform: translateY(-8px) scale(1.03); box-shadow: 0 8px 32px #06b6d4cc; }
    .portfolio-hero { background: linear-gradient(120deg, #0fffc1cc 0%, #a21cafcc 100%); }
    .avatar { width: 90px; height: 90px; border-radius: 50%; border: 3px solid #fff; box-shadow: 0 0 16px #06b6d4cc; }
    .social-links a { color: #06b6d4; margin: 0 8px; font-size: 1.5rem; transition: color 0.2s; }
    .social-links a:hover { color: #a21caf; }
    .navbar-finance-icon {
      font-size: 2rem;
      margin-right: 0.5rem;
      filter: drop-shadow(0 0 8px #06b6d4);
    }
    .dark-mode-toggle {
      background: none;
      border: none;
      font-size: 1.7rem;
      cursor: pointer;
      margin-left: 1rem;
      color: #0fffc1;
      transition: color 0.2s;
    }
    .dark .dark-mode-toggle { color: #fbbf24; }
    @keyframes fadeInLeft { from { opacity: 0; transform: translateX(-60px); } to { opacity: 1; transform: none; } }
    @keyframes fadeInRight { from { opacity: 0; transform: translateX(60px); } to { opacity: 1; transform: none; } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .animate-fade-in-left { animation: fadeInLeft 1s cubic-bezier(.4,0,.2,1) both; }
    .animate-fade-in-right { animation: fadeInRight 1s cubic-bezier(.4,0,.2,1) both; }
    .animate-fade-in { animation: fadeIn 1s cubic-bezier(.4,0,.2,1) both; }
    .text-black, .text-\[\#312e81\], .text-black\/40, .text-black\/30, .text-black\/60, .text-black\/80, .text-black\/90, .text-black\/70 {
      color: #b0b6c8 !important;
    }
    .font-extrabold, .font-bold, .font-semibold, .font-medium, .font-normal, .font-light, .font-thin {
      color: #b0b6c8;
    }
  </style>
  <style>
    /* Shooting Star Canvas Enhancement */
    #shootingStarCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 2;
      pointer-events: none;
    }
  </style>
</head>
<body class="relative min-h-screen flex flex-col">
  <!-- Shooting Star Lasers Canvas Overlay -->
  <canvas id="shootingStarCanvas"></canvas>

  <!-- Neon video background -->
  <div class="absolute inset-0 z-0">
    <img id="dashboard-bg-fallback" src="assets/backgrounds/3d-rendering-futuristic-background-with-geometric-shapes-colorful-neon-lights.jpg" alt="Neon Fallback" class="w-full h-full object-cover fixed top-0 left-0" />
    <video id="dashboard-bg-video" src="assets/backgrounds/0_Neon_Lights_3840x2160.mov" autoplay loop muted playsinline class="w-full h-full object-cover fixed top-0 left-0 hidden"></video>
    <div class="absolute inset-0 bg-black bg-opacity-60"></div>
  </div>
  <div class="relative z-10">
    <!-- FundFlow Title Card at Top Left -->
    <div class="fixed top-4 left-4 z-50 flex items-center gap-2">
      <a href="dashboard.html" class="rounded-2xl px-8 py-4 shadow-xl border-2 border-cyan-400/60 bg-gradient-to-r from-cyan-900/80 via-fuchsia-900/70 to-purple-900/80 backdrop-blur-lg flex items-center gap-4 justify-center neon-glow hover:scale-105 transition-transform duration-200 mx-auto">
        <span class="navbar-finance-icon">üí∏</span>
        <span class="text-2xl md:text-3xl font-extrabold bg-gradient-to-r from-cyan-400 via-fuchsia-400 to-purple-500 bg-clip-text text-transparent drop-shadow-lg">Fundflow</span>
      </a>
    </div>
    <!-- Back to Login Button further down below Title Card -->
    <div class="fixed top-24 left-4 z-40">
      <a href="login.html" class="bg-gradient-to-r from-cyan-500 to-fuchsia-500 text-white font-bold py-2 px-6 rounded-lg shadow-lg hover:from-cyan-400 hover:to-fuchsia-400 transition text-sm mt-12 block">‚Üê Back to Login</a>
    </div>
    <!-- Profile Icon & XP Bar Top Right, with extra spacing -->
    <a href="profile.html" class="fixed top-4 right-8 z-50 flex flex-col items-center group">
      <div class="rounded-full bg-gradient-to-br from-cyan-400 via-fuchsia-400 to-purple-500 p-1 shadow-xl hover:scale-105 transition-transform duration-200">
        <span class="text-3xl md:text-4xl bg-white/80 rounded-full px-3 py-2 block">üë§</span>
      </div>
      <div class="w-24 h-3 mt-2 bg-black/40 rounded-full overflow-hidden border-2 border-cyan-400/60 shadow">
        <div id="xpBar" class="h-full bg-gradient-to-r from-yellow-400 to-fuchsia-500 rounded-full transition-all"></div>
      </div>
      <div id="xpText" class="text-xs text-cyan-100 mt-1 font-bold drop-shadow">XP: 0/0</div>
    </a>

    <!-- Confetti Canvas (hidden by default) -->
    <canvas class="confetti" id="confettiCanvas"></canvas>

    <main class="flex flex-col items-center py-10">
      <!-- [All original dashboard section HTML exactly as you provided] -->
      <!-- ... -->
      <!-- Please insert your original main dashboard content here -->
    </main>

    <!-- Navigation and footer as you had them -->
    <footer class="w-full bg-gradient-to-r from-cyan-900/80 to-purple-900/80 border-t-2 border-cyan-400/30 backdrop-blur flex flex-col md:flex-row items-center justify-between px-6 py-4 shadow-lg text-cyan-200 text-sm z-50">
      <div class="flex items-center gap-4 mb-2 md:mb-0">
        <span class="font-bold text-cyan-300">Contact:</span>
        <span>üìç Mumbai, India</span>
        <span>‚úâÔ∏è <a href="mailto:fundflowapp@gmail.com" class="underline hover:text-fuchsia-400">fundflowapp@gmail.com</a></span>
      </div>
      <div class="flex items-center gap-4">
        <a href="https://instagram.com/yourfundflow" target="_blank" class="hover:text-fuchsia-400"><i class="fab fa-instagram"></i> Instagram</a>
        <a href="https://twitter.com/yourfundflow" target="_blank" class="hover:text-fuchsia-400"><i class="fab fa-twitter"></i> Twitter</a>
        <a href="https://linkedin.com/company/yourfundflow" target="_blank" class="hover:text-fuchsia-400"><i class="fab fa-linkedin"></i> LinkedIn</a>
      </div>
    </footer>

    <nav class="fixed bottom-0 left-0 right-0 z-40 bg-gradient-to-r from-cyan-900/80 to-purple-900/80 border-t-2 border-cyan-400/30 backdrop-blur flex flex-wrap items-center justify-between px-4 py-2 shadow-lg">
      <a href="dashboard.html" class="font-bold text-cyan-300 hover:text-fuchsia-400 transition flex-1 text-center">Dashboard</a>
      <a href="goals.html" class="font-bold text-cyan-300 hover:text-fuchsia-400 transition flex-1 text-center">Goals</a>
      <a href="articles.html" class="font-bold text-cyan-300 hover:text-fuchsia-400 transition flex-1 text-center">Articles</a>
      <a href="forum.html" class="font-bold text-cyan-300 hover:text-fuchsia-400 transition flex-1 text-center">Forum</a>
      <a href="view-challenges.html" class="font-bold text-cyan-300 hover:text-fuchsia-400 transition flex-1 text-center">Challenges</a>
      <a href="analyzer.html" class="font-bold text-cyan-300 hover:text-fuchsia-400 transition flex-1 text-center">Analyzer</a>
    </nav>
  </div>
  <script src="https://kit.fontawesome.com/4e7b8b6e2a.js" crossorigin="anonymous"></script>
  <script>
    // Expense List Logic
    const expenseForm = document.getElementById('expenseForm');
    const expenseList = document.getElementById('expenseList');
    let expenses = [];
    expenseForm.onsubmit = function(e) {
      e.preventDefault();
      const cat = document.getElementById('expenseCategory').value;
      const amt = parseInt(document.getElementById('expenseAmount').value);
      if (!cat || !amt) return;
      expenses.push({cat, amt});
      renderExpenses();
      document.getElementById('expenseAmount').value = '';
    };
    function renderExpenses() {
      expenseList.innerHTML = '';
      expenses.forEach((ex, i) => {
        const div = document.createElement('div');
        div.className = 'flex items-center justify-between bg-black/30 rounded-lg px-3 py-2 border-l-4 border-fuchsia-400 mb-1';
        div.innerHTML = `<span class='flex items-center gap-1'>${ex.cat}</span><span class='text-fuchsia-400 font-bold'>-‚Çπ${ex.amt}</span><button onclick='removeExpense(${i})' class='ml-2 text-xs text-fuchsia-300 hover:text-fuchsia-500'>Remove</button>`;
        expenseList.appendChild(div);
      });
    }
    window.removeExpense = function(i) {
      expenses.splice(i,1); renderExpenses();
    };
    // Savings Goal Logic
    const goalForm = document.getElementById('goalForm');
    let goalAmount = 0, savedAmount = 0;
    goalForm.onsubmit = function(e) {
      e.preventDefault();
      goalAmount = parseInt(document.getElementById('goalAmount').value);
      savedAmount = expenses.reduce((a,b)=>a+b.amt,0);
      updateGoalProgress();
    };
    function updateGoalProgress() {
      let percent = goalAmount ? Math.min(100, Math.round((savedAmount/goalAmount)*100)) : 0;
      document.getElementById('goalProgress').style.width = percent+'%';
      document.getElementById('goalProgressText').textContent = percent+'%';
    }
    // Budget Sliders
    document.getElementById('spendingSlider').oninput = function(e) {
      document.getElementById('spendingValue').textContent = e.target.value+'%';
    };
    document.getElementById('savingsSlider').oninput = function(e) {
      document.getElementById('savingsValue').textContent = e.target.value+'%';
    };
    document.getElementById('investSlider').oninput = function(e) {
      document.getElementById('investValue').textContent = e.target.value+'%';
    };
    // Confetti effect (simple demo)
    function showConfetti() {
      const canvas = document.getElementById('confettiCanvas');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth; canvas.height = window.innerHeight;
      let confetti = Array.from({length: 120}, () => ({x: Math.random()*canvas.width, y: Math.random()*-canvas.height, r: 6+Math.random()*8, c: `hsl(${Math.random()*360},100%,60%)`, v: 2+Math.random()*4}));
      let frame = 0;
      function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        confetti.forEach(f => {
          ctx.beginPath(); ctx.arc(f.x, f.y, f.r, 0, 2*Math.PI);
          ctx.fillStyle = f.c; ctx.fill();
          f.y += f.v; if(f.y > canvas.height) f.y = -f.r;
        });
        if(frame++ < 80) requestAnimationFrame(draw);
        else ctx.clearRect(0,0,canvas.width,canvas.height);
      }
      draw();
    }
    // Show video only if it loads successfully
    const vid = document.getElementById('dashboard-bg-video');
    const fallback = document.getElementById('dashboard-bg-fallback');
    vid.oncanplay = () => { fallback.style.display = 'none'; vid.classList.remove('hidden'); };
    // XP Bar logic
    function updateXPBar() {
      const xp = parseInt(localStorage.getItem('fundflow_xp') || '1200');
      const xpMax = parseInt(localStorage.getItem('fundflow_xp_max') || '2000');
      const percent = Math.min(100, Math.round((xp/xpMax)*100));
      document.getElementById('xpBar').style.width = percent + '%';
      document.getElementById('xpText').textContent = `XP: ${xp}/${xpMax}`;
    }
    updateXPBar();
    window.addEventListener('storage', updateXPBar);
    // Rotating Financial Advice
    const adviceArr = [
      "An investment in knowledge pays the best interest. ‚Äî Benjamin Franklin",
      "Do not save what is left after spending, but spend what is left after saving. ‚Äî Warren Buffett",
      "The stock market is filled with individuals who know the price of everything, but the value of nothing. ‚Äî Philip Fisher",
      "It's not your salary that makes you rich, it's your spending habits. ‚Äî Charles A. Jaffe",
      "Financial freedom is available to those who learn about it and work for it. ‚Äî Robert Kiyosaki",
      "Beware of little expenses. A small leak will sink a great ship. ‚Äî Benjamin Franklin",
      "The best way to predict the future is to create it. ‚Äî Peter Drucker",
      "Too many people spend money they haven't earned, to buy things they don't want, to impress people they don't like. ‚Äî Will Rogers",
      "Money is only a tool. It will take you wherever you wish, but it will not replace you as the driver. ‚Äî Ayn Rand",
      "A budget is telling your money where to go instead of wondering where it went. ‚Äî Dave Ramsey"
    ];
    const colorArr = ["#312e81", "#1e293b", "#164e63"];
    let adviceIdx = 0;
    function rotateAdvice() {
      const adviceText = document.getElementById('adviceText');
      adviceText.textContent = adviceArr[adviceIdx % adviceArr.length];
      adviceText.style.color = colorArr[adviceIdx % colorArr.length];
      adviceIdx = (adviceIdx + 1) % (adviceArr.length * colorArr.length);
    }
    setInterval(rotateAdvice, 5000);
    rotateAdvice();
  </script>
  <script>
    // Shooting Star Enhancement code
    (function () {
      const canvas = document.getElementById('shootingStarCanvas');
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      function sizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      sizeCanvas();
      window.addEventListener('resize', sizeCanvas);

      class ShootingStar {
        constructor() { this.reset(); }
        reset() {
          this.x = Math.random() * canvas.width;
          this.y = Math.random() * (canvas.height * 0.4);
          this.len = 60 + Math.random() * 80;
          this.speed = 8 + Math.random() * 12;
          this.angle = Math.PI / 4;
          this.opacity = 1.1;
          this.fade = 0.017 + Math.random() * 0.01;
        }
        update() {
          this.x += this.speed * Math.cos(this.angle);
          this.y += this.speed * Math.sin(this.angle);
          this.opacity -= this.fade;
          if (this.opacity <= 0 || this.x > canvas.width + this.len || this.y > canvas.height + this.len) this.reset();
        }
        draw(ctx) {
          let xEnd = this.x - this.len * Math.cos(this.angle);
          let yEnd = this.y - this.len * Math.sin(this.angle);
          let grad = ctx.createLinearGradient(this.x, this.y, xEnd, yEnd);
          grad.addColorStop(0, `rgba(0,255,255,${this.opacity})`);
          grad.addColorStop(1, `rgba(245,0,255,0)`);
          ctx.strokeStyle = grad;
          ctx.lineWidth = 2.2;
          ctx.beginPath();
          ctx.moveTo(this.x, this.y);
          ctx.lineTo(xEnd, yEnd);
          ctx.shadowColor = '#0fffc1';
          ctx.shadowBlur = 12;
          ctx.stroke();
          ctx.shadowBlur = 0;
        }
      }

      const stars = Array.from({ length: 12 }, () => new ShootingStar());

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        stars.forEach((star) => {
          star.update();
          star.draw(ctx);
        });
        requestAnimationFrame(animate);
      }
      animate();
    })();
  </script>
  <script src="common.js"></script>
  <script>window.injectChatbot && window.injectChatbot({ position: 'bottom-left', alwaysOn: true });</script>
</body>
</html>
